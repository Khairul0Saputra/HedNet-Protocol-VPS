#!/usr/bin/env python3
import requests

print("HedNet Login")
email = input("Email: ")
password = input("Password: ")

url = "https://gaupvjlejgfgfwvdzeiv.supabase.co/auth/v1/token?grant_type=password"
headers = {
    "apikey": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhdXB2amxlamdmZ2Z3dmR6ZWl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxNTgwNjIsImV4cCI6MjA2MzczNDA2Mn0.N4EoSq157zVPBKyuOjxQrjlAE3OSkdB_iq7cRa6Dn4E",
    "Content-Type": "application/json"
}
data = {"email": email, "password": password}

response = requests.post(url, json=data, headers=headers)

if response.status_code == 200:
    token = response.json()['access_token']
    print("SUCCESS! Token:")
    print(token)
else:
    print("ERROR:", response.status_code)
    print(response.text)
